#!/usr/bin/env python
import sys, os

sdl_env = Environment()
freetype_env = Environment()

if sys.platform == 'linux2' or sys.platform == 'linux-i386':
	#z lib
	z_lib = ['z']
	z_libpath = ['/usr/lib']
	z_include = ['/usr/include']

env = Environment(TARGS=COMMAND_LINE_TARGETS,
		  tools=['default', 'generic', 'opengl', 'cg', 
			 'sdl', 'sdl_image', 'freetype'],
		  toolpath=['.', 'admin']
		 )
#Framework installation path
framework_lib = ['frameworkGL', 'GLEW']
framework_libpath = [os.path.join(env['PREFIX'],'lib')]
framework_include = [os.path.join(env['PREFIX'],'include/starengine')]

env.AppendUnique(CPPPATH = framework_include+z_include)
env.AppendUnique(LIBPATH = framework_libpath+z_libpath)
env.AppendUnique(LIBS = z_lib+['GLEW'])

#Create library
SConscript('framework/SConscript', exports = 'env')

#Create test programs
env.PrependUnique(LIBS = framework_lib+z_lib)
SConscript('tests/testTexture/SConscript', exports = 'env')
SConscript('tests/testCG/SConscript', exports = 'env')
SConscript('tests/volrend/SConscript', exports = 'env')
SConscript('tests/volrendCG/SConscript', exports = 'env')
SConscript('tests/testBatch/SConscript', exports = 'env')
